{% extends 'shared/admin/layout/layout.html' %}
{% load forms utils %}

{% block head_ref %}
  {{ form.media.css }}
{% endblock %}

{% block content %}
  {% render_form form %}
{% endblock %}

{% block footer_ref %}
  {{ form.media.js }}
  <script>
    function pictureHasBeenManaged(res) {
      showToast('{% translate "Notification" %}', res.message, 'success')

      setTimeout(() => {
        window.PopupManager.reply(res.details)
        window.close()
      }, 1000)
    }

    function pictureManagerHasError(res) {
      showToast('{% translate "Error" %}', res.responseJSON.error, 'error')
    }
  </script>
{% endblock %}
