{% extends 'core/auth/_auth_layout.html' %}
{% load i18n forms static %}

{% block content %}
  <div class="login-box">
    <!-- /.login-logo -->
    <div class="card">
      <div class="card-body login-card-body">
        <div class="login-logo">
          <img src="{% static 'shared/images/logos/logo_black.png' %}" class="w-50" alt="" />
        </div>
        <p class="login-box-msg font-size-12">
          {% trans 'Management of the Iranian Social and Economic Observatory (RASA)' %}
        </p>
        <form method="post" {{ form.flattened_attrs }}>
          {% csrf_token %}
          {% if form.non_field_errors %}
            <div class="alert alert-danger mb-4" role="alert">
              {% for error in form.non_field_errors %}
                <p class="{% if not forloop.last %}
                    mb-3
                  {% else %}
                    mb-0
                  {% endif %}">{{ error }}</p>
              {% endfor %}
            </div>
          {% endif %}
          <div class="input-group mb-3">
            <div class="input-group-text">
              <span class="bi bi-envelope"></span>
            </div>
            <input {{ form.username.field.widget.flattened_attrs }} name="{{ form.username.name }}" id="{{ form.username.id_for_label }}" autocomplete="off" />
          </div>
          <div id="username_errors" class="mb-2">
            {% if form.username.errors %}
              <div class="invalid-feedback">
                {% for error in form.username.errors %}
                  <span>{{ error }}</span>
                  {% if not forloop.last %}
                    <span class="ms-1 me-1">|</span>
                  {% endif %}
                {% endfor %}
              </div>
            {% endif %}
          </div>
          <div class="input-group mb-3">
            <div class="input-group-text">
              <span class="bi bi-lock-fill"></span>
            </div>
            <input {{ form.password.field.widget.flattened_attrs }} type="password" name="{{ form.password.name }}" id="{{ form.password.id_for_label }}" autocomplete="new-password" />
          </div>
          <div id="password_errors" class="mb-2"></div>
          <!-- begin::Row -->
          <div class="row justify-content-end">
            <div class="col-12 col-lg-4">
              <button type="submit" class="btn btn-success w-100">{% trans 'Login' %}</button>
            </div>
          </div>
          <!-- end::Row -->
        </form>
      </div>
      <!-- /.login-card-body -->
    </div>
  </div>
{% endblock %}
